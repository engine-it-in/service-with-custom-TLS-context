# Service-with-custom-tls-context

## Что это?
* Проект, в котором представлен способ создания подключения по SSL/TLS на основе компонентов КриптоПро (CP);
* Подробное описание проекта и как им пользоваться приведено тут - [ссылка](https://wiki.alfastrah.ru/pages/viewpage.action?pageId=336086355);

## Какая от этого польза?
* Возможность настроить TLS/SSL соединение на основе CER и PFX сертификатов к источникам, 
которые требуют шифрования по ГОСТ; 

## Что нужно для того, чтобы этим воспользоваться?
* Лицензия на компоненты JCP, JCSP;
* Java от 17 - ели более ранняя версия, то нужны будут другие компоненты. Подробнее в статье Выше;
* Spring boot;

## Как этим пользоваться?
* Добавить в проект для обработки сертификатов;
* Предварительно нужно подготовить инфраструктурные компоненты:
  * Установить GUI CP и установить лицензию;
  * Иметь на руках сертификаты;
  * CER сложить в Java cacerts;
  * PFX сложить в ресурсные папки проекта и подготовить обработку его пароля;
  * Установить библиотеки JCP, JCSP (локально/хранилище сертификатов);
* Для использования в тесте(прод) среде нужно в разворачиваемый образ добавить лицензии от компонентов; 

## О чем еще важно упомянуть?
* Оцените свои потребности в соответствии с нагрузкой на сервис и правильно выбирайте лицензию;
* Настройка логирования для CP - упомянута и описана в статье выше;
* Для использования CP потребуется настроить доступы до ресурсов на которых цепочки сертификатов будут проверяться на валидность. Для меня это были:
  * http://cdp.cryptopro.ru/ra/cdp/...
  * http://vpnca.cryptopro.ru/cdp/...

## Если после прочитанного остались вопросы, то что делать?
* Посмотрите статью Выше;
* Если что-то с CP -> пишите в поддержку или на форум;
* Если что-то иное -> пишите автору статьи, постараюсь помочь;

## Контакты
| Автор        | Контакт       |
|--------------|---------------|
| Ivan Nikitin | in86@inbox.ru |